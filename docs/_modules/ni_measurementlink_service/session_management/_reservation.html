<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ni_measurementlink_service.session_management._reservation &mdash; ni_measurementlink_service 1.3 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=0264ad83"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            ni_measurementlink_service
          </a>
              <div class="version">
                1.3.0-dev0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">ni_measurementlink_service</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">ni_measurementlink_service.session_management._reservation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for ni_measurementlink_service.session_management._reservation</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Session management reservation classes.&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">contextlib</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">ExitStack</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">cached_property</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">TracebackType</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TYPE_CHECKING</span><span class="p">,</span>
    <span class="n">AbstractSet</span><span class="p">,</span>
    <span class="n">Any</span><span class="p">,</span>
    <span class="n">Callable</span><span class="p">,</span>
    <span class="n">ContextManager</span><span class="p">,</span>
    <span class="n">Dict</span><span class="p">,</span>
    <span class="n">Generator</span><span class="p">,</span>
    <span class="n">Iterable</span><span class="p">,</span>
    <span class="n">List</span><span class="p">,</span>
    <span class="n">Literal</span><span class="p">,</span>
    <span class="n">NamedTuple</span><span class="p">,</span>
    <span class="n">Optional</span><span class="p">,</span>
    <span class="n">Sequence</span><span class="p">,</span>
    <span class="n">Set</span><span class="p">,</span>
    <span class="n">Type</span><span class="p">,</span>
    <span class="n">TypeVar</span><span class="p">,</span>
    <span class="n">Union</span><span class="p">,</span>
    <span class="n">cast</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">ni_measurementlink_service._channelpool</span> <span class="kn">import</span> <span class="n">GrpcChannelPool</span>
<span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">closing_session</span><span class="p">,</span>
    <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">ni_measurementlink_service._featuretoggles</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">,</span>
    <span class="n">requires_feature</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">ni_measurementlink_service._internal.stubs.ni.measurementlink.sessionmanagement.v1</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">session_management_service_pb2</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">ni_measurementlink_service.discovery</span> <span class="kn">import</span> <span class="n">DiscoveryClient</span>
<span class="kn">from</span> <span class="nn">ni_measurementlink_service.session_management._constants</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">INSTRUMENT_TYPE_NI_DAQMX</span><span class="p">,</span>
    <span class="n">INSTRUMENT_TYPE_NI_DCPOWER</span><span class="p">,</span>
    <span class="n">INSTRUMENT_TYPE_NI_DIGITAL_PATTERN</span><span class="p">,</span>
    <span class="n">INSTRUMENT_TYPE_NI_DMM</span><span class="p">,</span>
    <span class="n">INSTRUMENT_TYPE_NI_FGEN</span><span class="p">,</span>
    <span class="n">INSTRUMENT_TYPE_NI_RELAY_DRIVER</span><span class="p">,</span>
    <span class="n">INSTRUMENT_TYPE_NI_SCOPE</span><span class="p">,</span>
    <span class="n">SITE_SYSTEM_PINS</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">ni_measurementlink_service.session_management._types</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Connection</span><span class="p">,</span>
    <span class="n">SessionInformation</span><span class="p">,</span>
    <span class="n">SessionInitializationBehavior</span><span class="p">,</span>
    <span class="n">TSession</span><span class="p">,</span>
    <span class="n">TypedConnection</span><span class="p">,</span>
    <span class="n">TypedSessionInformation</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="c1"># Driver API packages are optional dependencies, so only import them lazily</span>
    <span class="c1"># at run time or when type-checking.</span>
    <span class="kn">import</span> <span class="nn">nidaqmx</span>
    <span class="kn">import</span> <span class="nn">nidcpower</span>
    <span class="kn">import</span> <span class="nn">nidigital</span>
    <span class="kn">import</span> <span class="nn">nidmm</span>
    <span class="kn">import</span> <span class="nn">nifgen</span>
    <span class="kn">import</span> <span class="nn">niscope</span>
    <span class="kn">import</span> <span class="nn">niswitch</span>

    <span class="kn">from</span> <span class="nn">ni_measurementlink_service.session_management._client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># circular import</span>
        <span class="n">SessionManagementClient</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Self</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Self</span>

<span class="n">_T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;_T&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_to_iterable</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">_T</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">_T</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="n">_T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">default</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">):</span>
        <span class="c1"># str implements Iterable[str] for iterating over characters.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">cast</span><span class="p">(</span><span class="n">_T</span><span class="p">,</span> <span class="n">value</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>


<span class="c1"># The `dict_view` type is a set-like type. In Python 3.7 and later, dictionaries</span>
<span class="c1"># preserve insertion order.</span>
<span class="c1">#</span>
<span class="c1"># Note: the set difference operator does not preserve order.</span>
<span class="k">def</span> <span class="nf">_to_ordered_set</span><span class="p">(</span><span class="n">values</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">_T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">AbstractSet</span><span class="p">[</span><span class="n">_T</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">_quote</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;&quot;</span>


<span class="k">def</span> <span class="nf">_quote_if_str</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">_quote</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_check_optional_str_param</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> parameter must be a str or None, not </span><span class="si">{</span><span class="n">value</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>


<span class="c1"># Why not generic: the error messages differ by &quot;a&quot; vs. &quot;an&quot;</span>
<span class="k">def</span> <span class="nf">_check_optional_int_param</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> parameter must be an int or None, not </span><span class="si">{</span><span class="n">value</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_check_matching_criterion</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">requested_values</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">_T</span><span class="p">],</span> <span class="n">expected_values</span><span class="p">:</span> <span class="n">AbstractSet</span><span class="p">[</span><span class="n">_T</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">value</span> <span class="ow">in</span> <span class="n">expected_values</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">requested_values</span><span class="p">):</span>
        <span class="n">extra_values_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">_quote_if_str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">requested_values</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">expected_values</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No reserved connections matched </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">extra_values_str</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_describe_matching_criteria</span><span class="p">(</span>
    <span class="n">pin_or_relay_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">instrument_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">criteria</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">pin_or_relay_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pin_or_relay_names</span> <span class="o">=</span> <span class="n">_to_iterable</span><span class="p">(</span><span class="n">pin_or_relay_names</span><span class="p">)</span>
        <span class="n">pin_or_relay_names_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_quote</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span> <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="n">pin_or_relay_names</span><span class="p">)</span>
        <span class="n">criteria</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pin or relay name(s) </span><span class="si">{</span><span class="n">pin_or_relay_names_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sites</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sites</span> <span class="o">=</span> <span class="n">_to_iterable</span><span class="p">(</span><span class="n">sites</span><span class="p">)</span>
        <span class="n">sites_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">site</span><span class="p">)</span> <span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">sites</span><span class="p">)</span>
        <span class="n">criteria</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;site(s) </span><span class="si">{</span><span class="n">sites_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">instrument_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">criteria</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;instrument type ID &#39;</span><span class="si">{</span><span class="n">instrument_type_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">criteria</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_ConnectionKey</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">pin_or_relay_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">site</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">instrument_type_id</span><span class="p">:</span> <span class="nb">str</span>


<div class="viewcode-block" id="BaseReservation"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation">[docs]</a><span class="k">class</span> <span class="nc">BaseReservation</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manages session reservation.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_manager</span><span class="p">:</span> <span class="n">SessionManagementClient</span><span class="p">,</span>
        <span class="n">session_info</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">session_management_service_pb2</span><span class="o">.</span><span class="n">SessionInformation</span><span class="p">],</span>
        <span class="n">reserved_pin_or_relay_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reserved_sites</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize reservation object.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_manager</span> <span class="o">=</span> <span class="n">session_manager</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_session_info</span> <span class="o">=</span> <span class="n">session_info</span>  <span class="c1"># needed for unreserve</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">SessionInformation</span><span class="o">.</span><span class="n">_from_grpc_v1</span><span class="p">(</span><span class="n">info</span><span class="p">)</span> <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_session_info</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># If __init__ doesn&#39;t initialize _reserved_pin_or_relay_names or</span>
        <span class="c1"># _reserved_sites, the cached properties lazily initialize them.</span>
        <span class="k">if</span> <span class="n">reserved_pin_or_relay_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_pin_or_relay_names</span> <span class="o">=</span> <span class="n">_to_ordered_set</span><span class="p">(</span>
                <span class="n">_to_iterable</span><span class="p">(</span><span class="n">reserved_pin_or_relay_names</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">reserved_sites</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_sites</span> <span class="o">=</span> <span class="n">_to_ordered_set</span><span class="p">(</span><span class="n">reserved_sites</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_discovery_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DiscoveryClient</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_manager</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This method requires a discovery client.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_manager</span><span class="o">.</span><span class="n">_discovery_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_grpc_channel_pool</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GrpcChannelPool</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_manager</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This method requires a gRPC channel pool.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_manager</span><span class="o">.</span><span class="n">_grpc_channel_pool</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_reserved_pin_or_relay_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AbstractSet</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="c1"># If __init__ doesn&#39;t initialize reserved_pin_or_relay_names, this</span>
        <span class="c1"># cached property initializes it to the pin/relay names listed in the</span>
        <span class="c1"># session info (in insertion order, no duplicates).</span>
        <span class="k">return</span> <span class="n">_to_ordered_set</span><span class="p">(</span>
            <span class="n">channel_mapping</span><span class="o">.</span><span class="n">pin_or_relay_name</span>
            <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span>
            <span class="k">for</span> <span class="n">channel_mapping</span> <span class="ow">in</span> <span class="n">session_info</span><span class="o">.</span><span class="n">channel_mappings</span>
        <span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_reserved_sites</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AbstractSet</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="c1"># If __init__ doesn&#39;t initialize reserved_sites, this cached property</span>
        <span class="c1"># initializes it to the sites listed in the session info (in insertion</span>
        <span class="c1"># order, no duplicates).</span>
        <span class="k">return</span> <span class="n">_to_ordered_set</span><span class="p">(</span>
            <span class="n">channel_mapping</span><span class="o">.</span><span class="n">site</span>
            <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span>
            <span class="k">for</span> <span class="n">channel_mapping</span> <span class="ow">in</span> <span class="n">session_info</span><span class="o">.</span><span class="n">channel_mappings</span>
        <span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_reserved_instrument_type_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AbstractSet</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="c1"># Initialize to the instrument type ids listed in the session info (in</span>
        <span class="c1"># alphabetical order, no duplicates).</span>
        <span class="k">return</span> <span class="n">_to_ordered_set</span><span class="p">(</span>
            <span class="nb">sorted</span><span class="p">(</span><span class="n">session_info</span><span class="o">.</span><span class="n">instrument_type_id</span> <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_connection_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">_ConnectionKey</span><span class="p">,</span> <span class="n">Connection</span><span class="p">]:</span>
        <span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">channel_mapping</span> <span class="ow">in</span> <span class="n">session_info</span><span class="o">.</span><span class="n">channel_mappings</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">_ConnectionKey</span><span class="p">(</span>
                    <span class="n">channel_mapping</span><span class="o">.</span><span class="n">pin_or_relay_name</span><span class="p">,</span>
                    <span class="n">channel_mapping</span><span class="o">.</span><span class="n">site</span><span class="p">,</span>
                    <span class="n">session_info</span><span class="o">.</span><span class="n">instrument_type_id</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
                    <span class="n">channel_mapping</span><span class="o">.</span><span class="n">pin_or_relay_name</span><span class="p">,</span>
                    <span class="n">channel_mapping</span><span class="o">.</span><span class="n">site</span><span class="p">,</span>
                    <span class="n">channel_mapping</span><span class="o">.</span><span class="n">channel</span><span class="p">,</span>
                    <span class="n">session_info</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">assert</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span>
                <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">cache</span>

<div class="viewcode-block" id="BaseReservation.__enter__"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.__enter__">[docs]</a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">Self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Context management protocol. Returns self.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="BaseReservation.__exit__"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.__exit__">[docs]</a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
        <span class="n">exc_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
        <span class="n">traceback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Context management protocol. Calls unreserve().&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unreserve</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="BaseReservation.unreserve"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.unreserve">[docs]</a>    <span class="k">def</span> <span class="nf">unreserve</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Unreserve sessions.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_manager</span><span class="o">.</span><span class="n">_unreserve_sessions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_grpc_session_info</span><span class="p">)</span></div>

    <span class="nd">@contextlib</span><span class="o">.</span><span class="n">contextmanager</span>
    <span class="k">def</span> <span class="nf">_cache_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">TSession</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">session_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Session &#39;</span><span class="si">{</span><span class="n">session_name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">[</span><span class="n">session_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">session</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">yield</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">[</span><span class="n">session_name</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_matching_session_infos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SessionInformation</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">info</span> <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span> <span class="k">if</span> <span class="n">instrument_type_id</span> <span class="o">==</span> <span class="n">info</span><span class="o">.</span><span class="n">instrument_type_id</span>
        <span class="p">]</span>

    <span class="nd">@contextlib</span><span class="o">.</span><span class="n">contextmanager</span>
    <span class="k">def</span> <span class="nf">_initialize_session_core</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_constructor</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">SessionInformation</span><span class="p">],</span> <span class="n">TSession</span><span class="p">],</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">closing_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">TSession</span><span class="p">],</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">instrument_type_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This method requires an instrument type ID.&quot;</span><span class="p">)</span>
        <span class="n">session_infos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_matching_session_infos</span><span class="p">(</span><span class="n">instrument_type_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">session_infos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No reserved sessions matched instrument type ID &#39;</span><span class="si">{</span><span class="n">instrument_type_id</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="s2">&quot;Expected single session, got 0 sessions.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">session_infos</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Too many reserved sessions matched instrument type ID &#39;</span><span class="si">{</span><span class="n">instrument_type_id</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Expected single session, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">session_infos</span><span class="p">)</span><span class="si">}</span><span class="s2"> sessions.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">closing_function</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">closing_function</span> <span class="o">=</span> <span class="n">closing_session</span>

        <span class="n">session_info</span> <span class="o">=</span> <span class="n">session_infos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">with</span> <span class="n">closing_function</span><span class="p">(</span><span class="n">session_constructor</span><span class="p">(</span><span class="n">session_info</span><span class="p">))</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache_session</span><span class="p">(</span><span class="n">session_info</span><span class="o">.</span><span class="n">session_name</span><span class="p">,</span> <span class="n">session</span><span class="p">):</span>
                <span class="n">new_session_info</span> <span class="o">=</span> <span class="n">session_info</span><span class="o">.</span><span class="n">_with_session</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">cast</span><span class="p">(</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span> <span class="n">new_session_info</span><span class="p">)</span>

    <span class="nd">@contextlib</span><span class="o">.</span><span class="n">contextmanager</span>
    <span class="k">def</span> <span class="nf">_initialize_sessions_core</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_constructor</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">SessionInformation</span><span class="p">],</span> <span class="n">TSession</span><span class="p">],</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">closing_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">TSession</span><span class="p">],</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">]],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">instrument_type_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This method requires an instrument type ID.&quot;</span><span class="p">)</span>
        <span class="n">session_infos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_matching_session_infos</span><span class="p">(</span><span class="n">instrument_type_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">session_infos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No reserved sessions matched instrument type ID &#39;</span><span class="si">{</span><span class="n">instrument_type_id</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="s2">&quot;Expected single or multiple sessions, got 0 sessions.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">closing_function</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">closing_function</span> <span class="o">=</span> <span class="n">closing_session</span>

        <span class="k">with</span> <span class="n">ExitStack</span><span class="p">()</span> <span class="k">as</span> <span class="n">stack</span><span class="p">:</span>
            <span class="n">typed_session_infos</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="n">session_infos</span><span class="p">:</span>
                <span class="n">session</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">enter_context</span><span class="p">(</span><span class="n">closing_function</span><span class="p">(</span><span class="n">session_constructor</span><span class="p">(</span><span class="n">session_info</span><span class="p">)))</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">enter_context</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cache_session</span><span class="p">(</span><span class="n">session_info</span><span class="o">.</span><span class="n">session_name</span><span class="p">,</span> <span class="n">session</span><span class="p">))</span>
                <span class="n">new_session_info</span> <span class="o">=</span> <span class="n">session_info</span><span class="o">.</span><span class="n">_with_session</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
                <span class="n">typed_session_infos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">cast</span><span class="p">(</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span> <span class="n">new_session_info</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">yield</span> <span class="n">typed_session_infos</span>

    <span class="k">def</span> <span class="nf">_get_connection_core</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span>
        <span class="n">pin_or_relay_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">TSession</span><span class="p">]:</span>
        <span class="n">_check_optional_str_param</span><span class="p">(</span><span class="s2">&quot;pin_or_relay_name&quot;</span><span class="p">,</span> <span class="n">pin_or_relay_name</span><span class="p">)</span>
        <span class="n">_check_optional_int_param</span><span class="p">(</span><span class="s2">&quot;site&quot;</span><span class="p">,</span> <span class="n">site</span><span class="p">)</span>
        <span class="c1"># _get_connections_core() checks instrument_type_id.</span>

        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span>
            <span class="n">session_type</span><span class="p">,</span> <span class="n">pin_or_relay_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">instrument_type_id</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">results</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;No reserved connections matched the specified criteria. &quot;</span>
                <span class="s2">&quot;Expected single connection, got 0 connections.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Too many reserved connections matched the specified criteria. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Expected single connection, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> connections.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_connections_core</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span>
        <span class="n">pin_or_relay_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]:</span>
        <span class="n">_check_optional_str_param</span><span class="p">(</span><span class="s2">&quot;instrument_type_id&quot;</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">)</span>

        <span class="n">requested_pins</span> <span class="o">=</span> <span class="n">_to_iterable</span><span class="p">(</span><span class="n">pin_or_relay_names</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_pin_or_relay_names</span><span class="p">)</span>
        <span class="n">requested_sites</span> <span class="o">=</span> <span class="n">_to_iterable</span><span class="p">(</span><span class="n">sites</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_sites</span><span class="p">)</span>
        <span class="n">requested_instrument_type_ids</span> <span class="o">=</span> <span class="n">_to_iterable</span><span class="p">(</span>
            <span class="n">instrument_type_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_instrument_type_ids</span>
        <span class="p">)</span>

        <span class="c1"># Validate that each requested pin, site, or instrument type ID is</span>
        <span class="c1"># present in the reserved pins, reserved sites, and reserved instrument</span>
        <span class="c1"># type IDs. This rejects unknown or invalid inputs such as</span>
        <span class="c1"># pin_or_relay_names=&quot;NonExistentPin&quot; or sites=[0, 1, 65535].</span>
        <span class="k">if</span> <span class="n">pin_or_relay_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_check_matching_criterion</span><span class="p">(</span>
                <span class="s2">&quot;pin or relay name(s)&quot;</span><span class="p">,</span> <span class="n">requested_pins</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_pin_or_relay_names</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">sites</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_check_matching_criterion</span><span class="p">(</span><span class="s2">&quot;site(s)&quot;</span><span class="p">,</span> <span class="n">requested_sites</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_sites</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">instrument_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_check_matching_criterion</span><span class="p">(</span>
                <span class="s2">&quot;instrument type ID&quot;</span><span class="p">,</span>
                <span class="n">requested_instrument_type_ids</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_reserved_instrument_type_ids</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">requested_sites_with_system</span> <span class="o">=</span> <span class="n">requested_sites</span>
        <span class="k">if</span> <span class="n">SITE_SYSTEM_PINS</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">requested_sites_with_system</span><span class="p">:</span>
            <span class="n">requested_sites_with_system</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">requested_sites_with_system</span><span class="p">)</span>
            <span class="n">requested_sites_with_system</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SITE_SYSTEM_PINS</span><span class="p">)</span>

        <span class="c1"># Sort the results by site, then by pin, then by instrument type (as a tiebreaker).</span>
        <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">matching_pins</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">requested_sites_with_system</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="n">requested_pins</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">instrument_type</span> <span class="ow">in</span> <span class="n">requested_instrument_type_ids</span><span class="p">:</span>
                    <span class="n">key</span> <span class="o">=</span> <span class="n">_ConnectionKey</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">instrument_type</span><span class="p">)</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">session_info</span><span class="o">.</span><span class="n">session_name</span><span class="p">)</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">_with_session</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
                        <span class="n">value</span><span class="o">.</span><span class="n">_check_runtime_type</span><span class="p">(</span><span class="n">session_type</span><span class="p">)</span>
                        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span> <span class="n">value</span><span class="p">))</span>
                        <span class="n">matching_pins</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>

        <span class="c1"># If the user specified pins to match, validate that each one matched a connection.</span>
        <span class="k">if</span> <span class="n">pin_or_relay_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">pin</span> <span class="ow">in</span> <span class="n">matching_pins</span> <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="n">requested_pins</span>
        <span class="p">):</span>
            <span class="n">extra_pins_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">_quote</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span> <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="n">requested_pins</span> <span class="k">if</span> <span class="n">pin</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">matching_pins</span>
            <span class="p">)</span>
            <span class="n">criteria</span> <span class="o">=</span> <span class="n">_describe_matching_criteria</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">)</span>
            <span class="c1"># Emphasize the extra pin/relay names, but also list the other criteria.</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No reserved connections matched pin or relay name(s) </span><span class="si">{</span><span class="n">extra_pins_str</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with the specified criteria: </span><span class="si">{</span><span class="n">criteria</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># If the user specified any matching criteria, validate that matches</span>
        <span class="c1"># were found.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pin_or_relay_names</span> <span class="ow">or</span> <span class="n">sites</span> <span class="ow">or</span> <span class="n">instrument_type_id</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">results</span><span class="p">:</span>
            <span class="n">criteria</span> <span class="o">=</span> <span class="n">_describe_matching_criteria</span><span class="p">(</span><span class="n">pin_or_relay_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No reserved connections matched the specified criteria: </span><span class="si">{</span><span class="n">criteria</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

<div class="viewcode-block" id="BaseReservation.initialize_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_constructor</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">SessionInformation</span><span class="p">],</span> <span class="n">TSession</span><span class="p">],</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single instrument session.</span>

<span class="sd">        This is a generic method that supports any instrument driver.</span>

<span class="sd">        Args:</span>
<span class="sd">            session_constructor: A function that constructs sessions based on</span>
<span class="sd">                session information.</span>

<span class="sd">            instrument_type_id: Instrument type ID for the session.</span>

<span class="sd">                For custom instruments, use the instrument type id defined in</span>
<span class="sd">                the pin map file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the instrument type ID is empty, no reserved sessions</span>
<span class="sd">                match the instrument type ID, or too many reserved sessions</span>
<span class="sd">                match the instrument type ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span><span class="n">session_constructor</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_constructor</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">SessionInformation</span><span class="p">],</span> <span class="n">TSession</span><span class="p">],</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple instrument sessions.</span>

<span class="sd">        This is a generic method that supports any instrument driver.</span>

<span class="sd">        Args:</span>
<span class="sd">            session_constructor: A function that constructs sessions based on</span>
<span class="sd">                session information.</span>

<span class="sd">            instrument_type_id: Instrument type ID for the session.</span>

<span class="sd">                For custom instruments, use the instrument type id defined in</span>
<span class="sd">                the pin map file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the instrument type ID is empty or no reserved</span>
<span class="sd">                sessions matched the instrument type ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span><span class="n">session_constructor</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span>
        <span class="n">pin_or_relay_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">TSession</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the connection matching the specified criteria.</span>

<span class="sd">        This is a generic method that supports any instrument driver.</span>

<span class="sd">        Args:</span>
<span class="sd">            session_type: The session type.</span>

<span class="sd">            pin_or_relay_name: The pin or relay name to match against. If not</span>
<span class="sd">                specified, the pin or relay name is ignored when matching</span>
<span class="sd">                connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">            instrument_type_id: The instrument type ID to match against. If not</span>
<span class="sd">                specified, the instrument type ID is ignored when matching</span>
<span class="sd">                connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span><span class="n">session_type</span><span class="p">,</span> <span class="n">pin_or_relay_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">instrument_type_id</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TSession</span><span class="p">],</span>
        <span class="n">pin_or_relay_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">instrument_type_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">TSession</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all connections matching the specified criteria.</span>

<span class="sd">        This is a generic method that supports any instrument driver.</span>

<span class="sd">        Args:</span>
<span class="sd">            session_type: The expected session type.</span>

<span class="sd">            pin_or_relay_names: The pin or relay name(s) to match against. If</span>
<span class="sd">                not specified, the pin or relay name is ignored when matching</span>
<span class="sd">                connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">            instrument_type_id: The instrument type ID to match against. If not</span>
<span class="sd">                specified, the instrument type ID is ignored when matching</span>
<span class="sd">                connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span>
            <span class="n">session_type</span><span class="p">,</span> <span class="n">pin_or_relay_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">instrument_type_id</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.create_nidaqmx_task"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.create_nidaqmx_task">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_nidaqmx_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidaqmx</span><span class="o">.</span><span class="n">Task</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a single NI-DAQmx task.</span>

<span class="sd">        Args:</span>
<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will create a new task or attach to an existing task.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The task</span>
<span class="sd">            object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-DAQmx tasks are reserved or too many</span>
<span class="sd">                NI-DAQmx tasks are reserved.</span>

<span class="sd">        Note:</span>
<span class="sd">            If the ``session_exists`` field is ``False``, the returned task is</span>
<span class="sd">            empty and the caller is expected to add channels to it.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidaqmx.Task`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidaqmx</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DAQMX</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.create_nidaqmx_tasks"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.create_nidaqmx_tasks">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_nidaqmx_tasks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create multiple NI-DAQmx tasks.</span>

<span class="sd">        Args:</span>
<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will create a new task or attach to an existing task.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The task objects are available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-DAQmx tasks are reserved.</span>

<span class="sd">        Note:</span>
<span class="sd">            If the ``session_exists`` field is ``False``, the returned tasks are</span>
<span class="sd">            empty and the caller is expected to add channels to them.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidaqmx.Task`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidaqmx</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DAQMX</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidaqmx_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidaqmx_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidaqmx_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidaqmx</span><span class="o">.</span><span class="n">Task</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-DAQmx connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_name: The pin name to match against. If not specified, the pin</span>
<span class="sd">                name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidaqmx</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span><span class="n">nidaqmx</span><span class="o">.</span><span class="n">Task</span><span class="p">,</span> <span class="n">pin_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DAQMX</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidaqmx_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidaqmx_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidaqmx_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidaqmx</span><span class="o">.</span><span class="n">Task</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-DAQmx connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_names: The pin name(s) to match against. If not specified, the</span>
<span class="sd">                pin name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidaqmx</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span><span class="n">nidaqmx</span><span class="o">.</span><span class="n">Task</span><span class="p">,</span> <span class="n">pin_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DAQMX</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nidcpower_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nidcpower_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nidcpower_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single NI-DCPower instrument session.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset: Specifies whether to reset channel(s) during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIDCPOWER_SIMULATE``, ``NIDCPOWER_BOARD_TYPE``, and</span>
<span class="sd">                ``NIDCPOWER_MODEL`` in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-DCPower sessions are reserved or too many</span>
<span class="sd">                NI-DCPower sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidcpower.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidcpower</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span> <span class="n">reset</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DCPOWER</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nidcpower_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nidcpower_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nidcpower_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple NI-DCPower instrument sessions.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset: Specifies whether to reset channel(s) during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIDCPOWER_SIMULATE``, ``NIDCPOWER_BOARD_TYPE``, and</span>
<span class="sd">                ``NIDCPOWER_MODEL`` in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-DCPower sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidcpower.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidcpower</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span> <span class="n">reset</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DCPOWER</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidcpower_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidcpower_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidcpower_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-DCPower connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_name: The pin name to match against. If not specified, the pin</span>
<span class="sd">                name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidcpower</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span>
            <span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DCPOWER</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidcpower_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidcpower_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidcpower_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-DCPower connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_names: The pin name(s) to match against. If not specified, the</span>
<span class="sd">                pin name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidcpower</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span>
            <span class="n">nidcpower</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DCPOWER</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nidigital_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nidigital_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nidigital_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidigital</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single NI-Digital Pattern instrument session.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIDIGITAL_SIMULATE``, ``NIDIGITAL_BOARD_TYPE``, and</span>
<span class="sd">                ``NIDIGITAL_MODEL`` in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-Digital sessions are reserved or too many</span>
<span class="sd">                NI-Digital sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidigital.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidigital</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DIGITAL_PATTERN</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nidigital_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nidigital_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nidigital_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidigital</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple NI-Digital Pattern instrument sessions.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIDIGITAL_SIMULATE``, ``NIDIGITAL_BOARD_TYPE``, and</span>
<span class="sd">                ``NIDIGITAL_MODEL`` in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-Digital sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidigital.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidigital</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DIGITAL_PATTERN</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidigital_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidigital_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidigital_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidigital</span><span class="o">.</span><span class="n">Session</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-Digital Pattern connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_name: The pin name to match against. If not specified, the pin</span>
<span class="sd">                name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidigital</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span>
            <span class="n">nidigital</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DIGITAL_PATTERN</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidigital_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidigital_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidigital_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidigital</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-Digital Pattern connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_names: The pin name(s) to match against. If not specified, the</span>
<span class="sd">                pin name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidigital</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span>
            <span class="n">nidigital</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DIGITAL_PATTERN</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nidmm_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nidmm_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nidmm_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidmm</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single NI-DMM instrument session.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIDMM_SIMULATE``, ``NIDMM_BOARD_TYPE``, and ``NIDMM_MODEL`` in</span>
<span class="sd">                the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-DMM sessions are reserved or too many</span>
<span class="sd">                NI-DMM sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidmm.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidmm</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DMM</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nidmm_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nidmm_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nidmm_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nidmm</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple NI-DMM instrument sessions.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIDMM_SIMULATE``, ``NIDMM_BOARD_TYPE``, and ``NIDMM_MODEL`` in</span>
<span class="sd">                the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-DMM sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nidmm.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nidmm</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DMM</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidmm_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidmm_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidmm_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidmm</span><span class="o">.</span><span class="n">Session</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-DMM connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_name: The pin name to match against. If not specified, the pin</span>
<span class="sd">                name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidmm</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span><span class="n">nidmm</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DMM</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nidmm_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nidmm_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nidmm_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">nidmm</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-DMM connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_names: The pin name(s) to match against. If not specified, the</span>
<span class="sd">                pin name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nidmm</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span><span class="n">nidmm</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_DMM</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nifgen_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nifgen_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nifgen_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nifgen</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single NI-FGEN instrument session.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIFGEN_SIMULATE``, ``NIFGEN_BOARD_TYPE``, and ``NIFGEN_MODEL``</span>
<span class="sd">                in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-FGEN sessions are reserved or too many NI-FGEN</span>
<span class="sd">                sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nifgen.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nifgen</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_FGEN</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_nifgen_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_nifgen_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_nifgen_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">nifgen</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple NI-FGEN instrument sessions.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NIFGEN_SIMULATE``, ``NIFGEN_BOARD_TYPE``, and ``NIFGEN_MODEL``</span>
<span class="sd">                in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-FGEN sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`nifgen.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._nifgen</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_FGEN</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nifgen_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nifgen_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nifgen_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">nifgen</span><span class="o">.</span><span class="n">Session</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-FGEN connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_name: The pin name to match against. If not specified, the pin</span>
<span class="sd">                name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nifgen</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span><span class="n">nifgen</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_FGEN</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_nifgen_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_nifgen_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_nifgen_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">nifgen</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-FGEN connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_names: The pin name(s) to match against. If not specified, the</span>
<span class="sd">                pin name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">nifgen</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span><span class="n">nifgen</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_FGEN</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_niscope_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_niscope_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_niscope_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">niscope</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single NI-SCOPE instrument session.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NISCOPE_SIMULATE``, ``NISCOPE_BOARD_TYPE``, and</span>
<span class="sd">                ``NISCOPE_MODEL`` in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-SCOPE sessions are reserved or too many</span>
<span class="sd">                NI-SCOPE sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`niscope.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._niscope</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_SCOPE</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_niscope_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_niscope_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_niscope_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">niscope</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple NI-SCOPE instrument sessions.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset_device: Specifies whether to reset the instrument during the</span>
<span class="sd">                initialization procedure.</span>

<span class="sd">            options: Specifies the initial value of certain properties for the</span>
<span class="sd">                session. If this argument is not specified, the default value is</span>
<span class="sd">                an empty dict, which you may override by specifying</span>
<span class="sd">                ``NISCOPE_SIMULATE``, ``NISCOPE_BOARD_TYPE``, and</span>
<span class="sd">                ``NISCOPE_MODEL`` in the configuration file (``.env``).</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no NI-SCOPE sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`niscope.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._niscope</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">options</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_SCOPE</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_niscope_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_niscope_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_niscope_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">niscope</span><span class="o">.</span><span class="n">Session</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-SCOPE connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_name: The pin name to match against. If not specified, the pin</span>
<span class="sd">                name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">niscope</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span><span class="n">niscope</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_SCOPE</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_niscope_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_niscope_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_niscope_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">niscope</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-SCOPE connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pin_names: The pin name(s) to match against. If not specified, the</span>
<span class="sd">                pin name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">niscope</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span>
            <span class="n">niscope</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">pin_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_SCOPE</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_niswitch_session"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_niswitch_session">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_niswitch_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">topology</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">simulate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">niswitch</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a single NI-SWITCH relay driver instrument session.</span>

<span class="sd">        Args:</span>
<span class="sd">            topology: Specifies the switch topology. If this argument is not</span>
<span class="sd">                specified, the default value is &quot;Configured Topology&quot;, which you</span>
<span class="sd">                may override by setting ``MEASUREMENTLINK_NISWITCH_TOPOLOGY`` in</span>
<span class="sd">                the configuration file (``.env``).</span>

<span class="sd">            simulate: Enables or disables simulation of the switch module. If</span>
<span class="sd">                this argument is not specified, the default value is ``False``,</span>
<span class="sd">                which you may override by setting</span>
<span class="sd">                ``MEASUREMENTLINK_NISWITCH_SIMULATE`` in the configuration file</span>
<span class="sd">                (``.env``).</span>

<span class="sd">            reset_device: Specifies whether to reset the switch module during</span>
<span class="sd">                the initialization procedure.</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a session information object. The</span>
<span class="sd">            session object is available via the ``session`` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no relay driver sessions are reserved or</span>
<span class="sd">                too many relay driver sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`niswitch.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._niswitch</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">topology</span><span class="p">,</span>
            <span class="n">simulate</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_session_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_RELAY_DRIVER</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.initialize_niswitch_sessions"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.initialize_niswitch_sessions">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initialize_niswitch_sessions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">topology</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">simulate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reset_device</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">initialization_behavior</span><span class="p">:</span> <span class="n">SessionInitializationBehavior</span> <span class="o">=</span> <span class="n">SessionInitializationBehavior</span><span class="o">.</span><span class="n">AUTO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextManager</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TypedSessionInformation</span><span class="p">[</span><span class="n">niswitch</span><span class="o">.</span><span class="n">Session</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize multiple NI-SWITCH relay driver instrument sessions.</span>

<span class="sd">        Args:</span>
<span class="sd">            topology: Specifies the switch topology. If this argument is not</span>
<span class="sd">                specified, the default value is &quot;Configured Topology&quot;, which you</span>
<span class="sd">                may override by setting ``MEASUREMENTLINK_NISWITCH_TOPOLOGY`` in</span>
<span class="sd">                the configuration file (``.env``).</span>

<span class="sd">            simulate: Enables or disables simulation of the switch module. If</span>
<span class="sd">                this argument is not specified, the default value is ``False``,</span>
<span class="sd">                which you may override by setting</span>
<span class="sd">                ``MEASUREMENTLINK_NISWITCH_SIMULATE`` in the configuration file</span>
<span class="sd">                (``.env``).</span>

<span class="sd">            reset_device: Specifies whether to reset the switch module during</span>
<span class="sd">                the initialization procedure.</span>

<span class="sd">            initialization_behavior: Specifies whether the NI gRPC Device Server</span>
<span class="sd">                will initialize a new session or attach to an existing session.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A context manager that yields a sequence of session information</span>
<span class="sd">            objects. The session objects are available via the ``session``</span>
<span class="sd">            field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no relay driver sessions are reserved.</span>

<span class="sd">        See Also:</span>
<span class="sd">            For more details, see :py:class:`niswitch.Session`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">ni_measurementlink_service._drivers._niswitch</span> <span class="kn">import</span> <span class="n">SessionConstructor</span>

        <span class="n">session_constructor</span> <span class="o">=</span> <span class="n">SessionConstructor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_grpc_channel_pool</span><span class="p">,</span>
            <span class="n">topology</span><span class="p">,</span>
            <span class="n">simulate</span><span class="p">,</span>
            <span class="n">reset_device</span><span class="p">,</span>
            <span class="n">initialization_behavior</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">closing_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
            <span class="n">closing_session_with_ts_code_module_support</span><span class="p">,</span> <span class="n">initialization_behavior</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_sessions_core</span><span class="p">(</span>
            <span class="n">session_constructor</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_RELAY_DRIVER</span><span class="p">,</span> <span class="n">closing_function</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_niswitch_connection"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_niswitch_connection">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_niswitch_connection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">relay_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">site</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypedConnection</span><span class="p">[</span><span class="n">niswitch</span><span class="o">.</span><span class="n">Session</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the NI-SWITCH relay driver connection matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            relay_name: The relay name to match against. If not specified, the</span>
<span class="sd">                relay name is ignored when matching connections.</span>

<span class="sd">            site: The site number to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connection.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match or too many reserved</span>
<span class="sd">                connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">niswitch</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connection_core</span><span class="p">(</span>
            <span class="n">niswitch</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">relay_name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_RELAY_DRIVER</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseReservation.get_niswitch_connections"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.BaseReservation.get_niswitch_connections">[docs]</a>    <span class="nd">@requires_feature</span><span class="p">(</span><span class="n">SESSION_MANAGEMENT_2024Q1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_niswitch_connections</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">relay_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sites</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TypedConnection</span><span class="p">[</span><span class="n">niswitch</span><span class="o">.</span><span class="n">Session</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all NI-SWITCH relay driver connections matching the specified criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            relay_names: The relay name(s) to match against. If not specified,</span>
<span class="sd">                the relay name is ignored when matching connections.</span>

<span class="sd">            sites: The site number(s) to match against. If not specified, the</span>
<span class="sd">                site number is ignored when matching connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching connections.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the argument types or session type are incorrect.</span>

<span class="sd">            ValueError: If no reserved connections match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">niswitch</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connections_core</span><span class="p">(</span>
            <span class="n">niswitch</span><span class="o">.</span><span class="n">Session</span><span class="p">,</span> <span class="n">relay_names</span><span class="p">,</span> <span class="n">sites</span><span class="p">,</span> <span class="n">INSTRUMENT_TYPE_NI_RELAY_DRIVER</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="SingleSessionReservation"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.SingleSessionReservation">[docs]</a><span class="k">class</span> <span class="nc">SingleSessionReservation</span><span class="p">(</span><span class="n">BaseReservation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manages reservation for a single session.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SessionInformation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Single session information object.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">info</span><span class="o">.</span><span class="n">_with_session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">session_name</span><span class="p">))</span></div>


<div class="viewcode-block" id="MultiSessionReservation"><a class="viewcode-back" href="../../../autoapi/ni_measurementlink_service/session_management/index.html#ni_measurementlink_service.session_management._reservation.MultiSessionReservation">[docs]</a><span class="k">class</span> <span class="nc">MultiSessionReservation</span><span class="p">(</span><span class="n">BaseReservation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manages reservation for multiple sessions.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SessionInformation</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Multiple session information objects.&quot;&quot;&quot;</span>
        <span class="c1"># If the session cache is empty, return the existing list without copying.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">info</span><span class="o">.</span><span class="n">_with_session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">session_name</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_info</span>
        <span class="p">]</span></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, National Instruments.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>